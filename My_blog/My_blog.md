# WEEK5 MAKE PROPOSAL
###  ****BACKGOUND****
It is Chinese tradition to set fireworks to celebrate new year, however, these days in most city, people are not allowed to set off fireworks because it will polluting the air and may cause fire hazard. 
So I want to make an electric firework installation to see fireworks at anytime.
<img width="806" alt="1" src="https://user-images.githubusercontent.com/115070572/206720639-4f06d79a-bf4a-4a4d-a6b9-c174d6bf02ac.png">


### **THINGS NEED TO DECIDE SO FAR**

First problem：How to light the “lighter”or“fire”， by pressure or ？
Second problem：to show the forwork， screen or projection or ？
Third problem：to put out the fire， which interaction should be adopted？blow or ？
<img width="794" alt="2" src="https://user-images.githubusercontent.com/115070572/206721803-bc4dde07-9b02-46eb-b018-98e9773f2859.png">

## WEEK6 DEVELOPMENT
###  ****DRAFTS****
<img width="801" alt="5" src="https://user-images.githubusercontent.com/115070572/206722859-6cc80751-38d9-46dd-a5e8-6b092e31f396.png">
<img width="768" alt="6" src="https://user-images.githubusercontent.com/115070572/206722863-cf46b887-ab26-40c1-bd49-0e2c15f2fc89.png">
<img width="790" alt="7" src="https://user-images.githubusercontent.com/115070572/206722864-9b2776dc-6c83-47aa-a1e8-14931d98e4bd.png">
<img width="781" alt="8" src="https://user-images.githubusercontent.com/115070572/206722866-ab74064e-43fc-427e-b242-0e2c606ecbf6.png">
<img width="772" alt="3" src="https://user-images.githubusercontent.com/115070572/206722867-298ae558-33b3-4fdf-9218-d4333853be90.png">
<img width="761" alt="4" src="https://user-images.githubusercontent.com/115070572/206722869-323c3052-2e81-4a35-9b21-e62c975cd172.png">


### WHAT I DID FOR WEEK 6 
Buy sensors/Coding/Determine interactive method

1.make a time schedule to see what I should do for several weeks
2.tutorial with teacher on Monday and Wednesday，get some good ideas to improve my sensor and actuator. Suggested to use microphone sensor and NFC tag to simplify my installation
3.Improve my design by drawing
4. Check Amozon website to see what I should buy
5.start coding fireworks by processing or P5js
because sensors and strip board need time to deliver
6.making first generation of prototypes


<img width="806" alt="10" src="https://user-images.githubusercontent.com/115070572/206724828-c8b61eae-1ad5-4f73-b803-3058f56b293d.png">


## WEEK7 DEVELOPMENT
###  ****THINGS I HAVE NOW****
<img width="557" alt="9" src="https://user-images.githubusercontent.com/115070572/206723990-28d5f095-c6e6-469e-9040-aea58b707af6.png">

###  ****SEARCH FOR EXAMPLES OF RFID EXAMPLES****
https://forum.arduino.cc/t/rfid-mfrc522-h-wont-work-with-new-arduino-uno-wifi-rev2/560861
https://randomnerdtutorials.com/security-access-using-mfrc522-rfid-reader-with-arduino/

###  ***HOW IT WORKS***
1.The UIDs of NFC tags are set
2.When user hold NFC tags and tap tag on RFID reader, reader read the UID of tags 
3. Arduino get the UID and shown in monitor
4. Arduino will compare the UID with authorised UIDs
5.If UIDs matches, LED strip lights.

### WHAT I DID FOR WEEK 7 



<img width="749" alt="11" src<img width="774" alt="12" src="https://user-images.githubusercontent.com/115070572/206725331-1ce2dbbd-f10b-4f83-90cf-52c768535b07.png">
="https://user-images.githubusercontent.com/115070572/206725315-0be3b39f-8533-41da-8ae0-805db95e702c.png">





<img width="749" alt="11" src="https://user-images.githubusercontent.com/115070572/206725631-e41e599f-d7d7-4b42-969e-b324e63a4b0a.png">

<img width="780" alt="13" src="https://user-images.githubusercontent.com/115070572/206725785-f39b8939-4e34-4402-9959-b82e37bfccb9.png">

<img width="471" alt="14" src="https://user-images.githubusercontent.com/115070572/206725966-ab66cef5-190d-4c2f-bc21-afed6dc04f8e.png">

<img width="330" alt="15" src="https://user-images.githubusercontent.com/115070572/206726171-edd4b51e-1cb4-48ea-b01c-fc46f933fb58.png">
Reference links https://randomnerdtutorials.com/security-access-using-mfrc522-rfid-reader-with-arduino/


<img width="395" alt="16" src="https://user-images.githubusercontent.com/115070572/206726754-dc7c60bd-1ae8-45c4-86f2-5809e3e654c2.png">

Reference：

https://www.bilibili.com/video/BV1zt411e7Hk/?spm_id_from=333.337.search-card.all.click&vd_source=c70028e487e853e784c31fc42e0454a8
https://github.com/FastLED/FastLED/
https://www.bilibili.com/video/BV1Z7411p7QV/?spm_id_from=333.788.recommend_more_video.-1&vd_source=c70028e487e853e784c31fc42e0454a8 
https://forum.arduino.cc/t/uno-using-5v-and-3-3v-pins-at-the-same-time/984126 
https://www.circuitgeeks.com/ws2812b-addressable-rgb-led-strip-with-arduino/ 
https://howtomechatronics.com/tutorials/arduino/how-to-control-ws2812b-individually-addressable-leds-using-arduino/ 
https://lingshunlab.com/book/arduino/arduino-uno-turn-on-ws2812b-color-leds 
https://www.qutaojiao.com/24170.html 



<img width="769" alt="17" src="https://user-images.githubusercontent.com/115070572/206727146-3851c8c6-df48-4fc5-b129-764e81478ed9.png">
<img width="777" alt="18" src="https://user-images.githubusercontent.com/115070572/206727154-b9c49dfa-8c75-4f0b-8c89-e83790d905d5.png">
Reference：

https://arduinogetstarted.com/tutorials/arduino-rfid-nfc-relay
https://circuitdigest.com/microcontroller-projects/interfacing-rfid-reader-module-with-arduino
https://randomnerdtutorials.com/security-access-using-mfrc522-rfid-reader-with-arduino/ 
https://arduinogetstarted.com/tutorials/arduino-rfid-nfc-relay 

4. Test in progress
https://user-images.githubusercontent.com/115070572/206727666-5d09cb5e-3ba7-4033-a53f-78afa674e152.mp4

For more test video in this process：
https://youtu.be/V572j5w-C2M
https://youtu.be/hIWhkmBdmGk
https://youtu.be/ZMogIVy8eSI

5.Code
```
/*
 * 
 * All the resources for this project: https://randomnerdtutorials.com/
 * Modified by Rui Santos
 * 
 * Created by FILIPEFLOP
 * 
 */
 
#include <SPI.h>
#include <MFRC522.h>
#include <FastLED.h>

#define NUM_LEDS 20 // 定义 led 数量
#define DATA_PIN 3 // 定义 开发板的IO 3 为数据引脚
CRGB leds[NUM_LEDS]; // 定义CRGB的led等数组

#define SS_PIN 10
#define RST_PIN 9
MFRC522 mfrc522(SS_PIN, RST_PIN);   // Create MFRC522 instance.
 
void setup() 
{
  Serial.begin(9600);   // Initiate a serial communication
  SPI.begin();      // Initiate  SPI bus
  mfrc522.PCD_Init();   // Initiate MFRC522
  Serial.println("Approximate your card to the reader...");
  Serial.println();
  FastLED.addLeds<NEOPIXEL, DATA_PIN>(leds, NUM_LEDS);     
}
void loop() 
{
  // Look for new cards
  if ( ! mfrc522.PICC_IsNewCardPresent()) 
  {
    return;
  }
  // Select one of the cards
  if ( ! mfrc522.PICC_ReadCardSerial()) 
  {
    return;
  }
  //Show UID on serial monitor
  Serial.print("UID tag :");
  String content= "";
  byte letter;
  for (byte i = 0; i < mfrc522.uid.size; i++) 
  {
     Serial.print(mfrc522.uid.uidByte[i] < 0x10 ? " 0" : " ");
     Serial.print(mfrc522.uid.uidByte[i], HEX);
     content.concat(String(mfrc522.uid.uidByte[i] < 0x10 ? " 0" : " "));
     content.concat(String(mfrc522.uid.uidByte[i], HEX));
  }
  Serial.println();
  Serial.print("Message : ");
  content.toUpperCase();
  if (content.substring(1) == "04 9D 40 72 5D 10 90") //change here the UID of the card/cards that you want to give access
  {
    Serial.println("Authorized access");
    Serial.println();
    delay(1000);
for (int i = 0; i <= 19; i++) {
    leds[i] = CRGB ( 81, 5, 235);
    FastLED.show();
    delay(40);
  }
  
  for(int i = 0; i < NUM_LEDS; i++ )
  {
    leds[i] = CRGB(255,0,0);
    FastLED.show();
    delay(200);
    leds[i] = CRGB::Black;
    FastLED.show();
    delay(100);
  }
  leds[19] = CRGB::White; // 序号为0的led设置白色，点亮
  FastLED.show();
  delay(5000);
  }
 
 else   {
    Serial.println(" Access denied");
    delay(3000);
  }
} 


```
<img width="777" alt="19" src="https://user-images.githubusercontent.com/115070572/206728884-6aa52b6f-61ca-4e2c-a41d-9155ca9e5f0e.png">



<img width="806" alt="20" src="https://user-images.githubusercontent.com/115070572/206728893-51986749-70dd-4a6c-a7f9-739ad2233352.png">

![RFID-strip](https://user-images.githubusercontent.com/115070572/206731776-e9d4db0f-1203-49db-86ae-8ca521a2b717.jpg)

## WEEK8 DEVELOPMENT
1.<img width="797" alt="21" src="https://user-images.githubusercontent.com/115070572/206729291-16d8f5c2-69af-4bdb-b7e8-be782be9653d.png">
<img width="780" alt="22" src="https://user-images.githubusercontent.com/115070572/206729301-7c63b0b9-a414-47ea-b07e-55bdd309c699.png">



![Microphone-button-LED_bb](https://user-images.githubusercontent.com/115070572/206729525-a82307c8-9e01-49c2-9e3c-596f1642eab5.jpg)

2.code
```
const int BUTTON = 2;
const int LED = 13;
const int SOUND_PIN = A0;
int BUTTONstate = 0;

int val = 0;
int old_val = 0;
int state = 0;

void setup() {
    // put your setup code here, to run once:
  pinMode(LED, OUTPUT);
    pinMode(BUTTON, INPUT);
     Serial.begin(9600);
}

void loop() {
    // put your main code here, to run repeatedly:
    val = digitalRead(BUTTON);
    if (val == HIGH && old_val == LOW) { 
      state = 1 - state;
      delay(10); // 加入延迟以克服杂波
    }
    old_val = val;

    if (state == 1) {
      Serial.println("pressed");
      digitalWrite(LED, HIGH);
    } else {
      digitalWrite(LED, LOW);
    }

switch (state == 1) {
  case 1:

    // 读取A0模拟信号
  int value = analogRead(SOUND_PIN);
  // 输出信号值
  Serial.println(value);
  if(value > 100){
    // 大于阈值，则想引脚13输出低电平，LED灭
    digitalWrite(LED, LOW);
    delay(10000);
  }else{
    // 小于阈值，则想引脚13输出高电平，LED亮
    digitalWrite(LED, HIGH);
    delay(100);
  }
    //do something when var equals 1
    break;
  //case 2:
    //do something when var equals 2
    break;
  //default:
    // if nothing else matches, do the default
    // default is optional
    //break;
    delay(100);
}
```


3.Test
<img width="805" alt="23" src="https://user-images.githubusercontent.com/115070572/206730135-eb61803d-46e0-4c66-8b08-a73dc71011e4.png">
<img width="798" alt="24" src="https://user-images.githubusercontent.com/115070572/206730129-d1531ac3-c953-40bf-9680-9cea9499f3e1.png">
<img width="778" alt="25" src="https://user-images.githubusercontent.com/115070572/206730140-16e0a255-6e83-4b56-80b7-67ea204bfd42.png">

4.Test videos:
https://youtu.be/NisM9_UwT3Q
https://youtu.be/vtuazbwwS_c
https://youtu.be/yWdwkDjdv20

5.Reference:
https://circuitdigest.com/microcontroller-projects/interfacing-sound-sensor-with-arduino
https://www.jianshu.com/p/c06d7057edab
https://www.arduino.cc/reference/en/language/structure/control-structure/switchcase/
https://sensorkit.joy-it.net/en/sensors/ky-037
https://electropeak.com/learn/interfacing-ky-037-sound-sensor-with-arduino/ 

## WEEK9 DEVELOPMENT




<img width="753" alt="26" src="https://user-images.githubusercontent.com/115070572/206731679-af43a8cf-f4f4-4a2f-81f6-9cf7f313e75b.png">
<img width="799" alt="27" src="https://user-images.githubusercontent.com/115070572/206731680-b70a3ee9-e02e-4df0-a58f-978e04e80d34.png">
<img width="796" alt="28" src="https://user-images.githubusercontent.com/115070572/206731682-0b406e26-a81d-4d71-b494-206e079602a5.png">
2. Use light controlled resistor to control screen from an example that use it to control motor
Reference:
http://programmermagazine.github.io/201401/htm/article1.html
https://www.electronics-lab.com/project/using-st7735-1-8-color-tft-display-arduino/ 


<img width="724" alt="29" src="https://user-images.githubusercontent.com/115070572/206732067-1b0d2366-e288-4d49-bbf5-18bfe4d019aa.png">






























